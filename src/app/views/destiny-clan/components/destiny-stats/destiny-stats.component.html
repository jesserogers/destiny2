<ng-container *ngIf="pvpStats && pveStats else loading">
    <mat-tab-group ku-background-color="background" ku-color="foreground">
        <mat-tab label="PVP">
            <main>
                <div class="asc-destiny-stats">
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">KD</h4>
                            <h2 ku-color="dark">{{pvpStats?.kd | number:'1.2-2'}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">KDA</h4>
                            <h2 ku-color="dark">{{pvpStats?.kda | number:'1.2-2'}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Efficiency</h4>
                            <h2 ku-color="dark">
                                {{pvpStats?.efficiency | number:'1.2-2'}}
                            </h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Kills</h4>
                            <h2 ku-color="dark">{{pvpStats?.kills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Assists</h4>
                            <h2 ku-color="dark">{{pvpStats?.assists | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Defeats</h4>
                            <h2 ku-color="dark">{{pvpStats?.defeats | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Best Single Game Kills</h4>
                            <h2 ku-color="dark">{{pvpStats?.singleGameKills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Longest Kill Spree</h4>
                            <h2 ku-color="dark">{{pvpStats?.killSpree | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Most Precision Kills</h4>
                            <h2 ku-color="dark">
                                {{pvpStats?.mostPrecisionKills | number}}
                            </h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Best Weapon Type</h4>
                            <h2 ku-color="dark">{{pvpStats?.bestWeapon}}</h2>
                        </div>
                    </div>
                </div>
            </main>
        </mat-tab>
        <mat-tab label="PVE">
            <main>
                <div class="asc-destiny-stats">
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Raid Clears</h4>
                            <h2 ku-color="dark">{{pveStats?.raidClears | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Raid Kills</h4>
                            <h2 ku-color="dark">{{pveStats?.raidKills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Kills Per Raid</h4>
                            <h2 ku-color="dark">
                                {{pveStats?.killsPerRaid | number:'1.0-1'}}
                            </h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Best Raid Kills</h4>
                            <h2 ku-color="dark">{{pveStats?.bestRaidKills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Deaths Per Raid</h4>
                            <h2 ku-color="dark">{{pveStats?.deathsPerRaid | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-4">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Raid Time Per Clear</h4>
                            <h2 ku-color="dark">
                                {{parseSeconds(pveStats?.raidTimePerClear)}}
                            </h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Strike Clears</h4>
                            <h2 ku-color="dark">{{pveStats?.strikeClears | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Strike Kills</h4>
                            <h2 ku-color="dark">{{pveStats?.strikeKills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Best Strike Kills</h4>
                            <h2 ku-color="dark">{{pveStats?.bestStrikeKills | number}}</h2>
                        </div>
                    </div>
                    <div class="asc-destiny-stat-tile col-xs-12 col-sm-6 col-md-3">
                        <div ku-background-color="primary">
                            <h4 ku-color="dark">Kills Per Strike</h4>
                            <h2 ku-color="dark">
                                {{pveStats?.killsPerStrike | number:'1.0-1'}}
                            </h2>
                        </div>
                    </div>
                </div>
            </main>
        </mat-tab>
    </mat-tab-group>
</ng-container>
<ng-template #loading>
        <div class="asc-destiny-stats-loading">
                <ng-container *ngIf="!failure else failed">
                        <mat-spinner size="36"></mat-spinner>
                </ng-container>
                <ng-template #failed>
                    <h2 ku-color="warn">Failed to load player stats</h2>
                </ng-template>
        </div>
</ng-template>
