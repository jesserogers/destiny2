<ng-container *ngIf="!failure; else failed">
  <div style="margin-bottom: 1rem;">
    <mat-form-field style="width: 200px;">
      <h4 ku-color="primary" style="margin-top: 0;">
        Select Activity
      </h4>
      <mat-select [(value)]="activity" style="display: block;">
        <mat-option value="crucible">Crucible</mat-option>
        <mat-option value="pve">PVE</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="row">
    <ng-container *ngIf="activity === 'pve'; else PvPLeaderboards">
      <!-- RAID CLEARS LEADERBOARD -->
      <ng-container *ngIf="!raidClearsLeaderboard; else Top5RaidClears">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5RaidClears>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Raid Clears"
            [leaderboard]="raidClearsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
      <!-- RAID TIME PER CLEAR LEADERBOARD -->
      <ng-container
        *ngIf="!raidTimePerClearLeaderboard; else Top5RaidTimePerClear"
      >
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5RaidTimePerClear>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Raid Time Per Clear"
            [leaderboard]="raidTimePerClearLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
      <!-- RAID KILLS LEADERBOARD -->
      <ng-container *ngIf="!raidKillsLeaderboard; else Top5RaidKills">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5RaidKills>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Raid Kills"
            [leaderboard]="raidKillsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
      <!-- DEATHS PER RAID LEADERBOARD -->
      <ng-container *ngIf="!deathsPerRaidLeaderboard; else Top5DeathsPerRaid">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5DeathsPerRaid>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Deaths Per Raid"
            [leaderboard]="deathsPerRaidLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
      <!-- STRIKE CLEARS LEADERBOARD -->
      <ng-container *ngIf="!strikeClearsLeaderboard; else Top5StrikeClears">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5StrikeClears>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Strike Clears"
            [leaderboard]="strikeClearsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
      <!-- STRIKE KILLS LEADERBOARD -->
      <ng-container *ngIf="!strikeKillsLeaderboard; else Top5StrikeKills">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5StrikeKills>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Strike Kills"
            [leaderboard]="strikeKillsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
    </ng-container>
    <!-- PVP LEADERBOARDS -->
    <ng-template #PvPLeaderboards>
      <!-- KD LEADERBOARD -->
      <ng-container *ngIf="!kdLeaderboard; else Top5Kd">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Kd>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="KD"
            [leaderboard]="kdLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>

      <!-- KDA LEADERBOARD -->

      <ng-container *ngIf="!kdaLeaderboard; else Top5Kda">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Kda>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="KDA"
            [leaderboard]="kdaLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>

      <!-- EFFICIENCY LEADERBOARD -->

      <ng-container *ngIf="!efficiencyLeaderboard; else Top5Efficiency">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Efficiency>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Efficiency"
            [leaderboard]="efficiencyLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>

      <!-- KILLS LEADERBOARD -->

      <ng-container *ngIf="!killsLeaderboard; else Top5Kills">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Kills>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Kills"
            [leaderboard]="killsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>

      <!-- ASSISTS LEADERBOARD -->

      <ng-container *ngIf="!assistsLeaderboard; else Top5Assists">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Assists>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Assists"
            [leaderboard]="assistsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>

      <!-- DEFEATS LEADERBOARD -->

      <ng-container *ngIf="!defeatsLeaderboard; else Top5Defeats">
        <div class="col-sm-12 col-md-6 d2-leaderboard-loading">
          <mat-spinner size="36" color="primary"></mat-spinner>
        </div>
      </ng-container>
      <ng-template #Top5Defeats>
        <div class="col-sm-12 col-md-6 destiny-leaderboard">
          <app-destiny-leaderboard
            leaderboardTitle="Defeats"
            [leaderboard]="defeatsLeaderboard"
          ></app-destiny-leaderboard>
        </div>
      </ng-template>
    </ng-template>
  </div>
</ng-container>
<ng-template #failed>
  <div style="padding: 4.263rem 1.618rem; text-align: center;">
    <h1 ku-color="warn">Failed to load leaderboards</h1>
  </div>
</ng-template>
